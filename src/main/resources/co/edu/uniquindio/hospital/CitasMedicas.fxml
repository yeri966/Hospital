<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<AnchorPane prefHeight="700.0" prefWidth="870.0" style="-fx-background-color: white;"
            xmlns="http://javafx.com/javafx/8"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="co.edu.uniquindio.hospital.controllers.CitasMedicasController">

    <children>
        <!-- ENCABEZADO -->
        <Label layoutX="30.0" layoutY="20.0" text="Mis Citas Asignadas" textFill="#424242">
            <font>
                <Font name="System Bold" size="24.0" />
            </font>
        </Label>

        <Label layoutX="30.0" layoutY="55.0" text="Gestiona las citas de tus pacientes" textFill="#757575">
            <font>
                <Font size="13.0" />
            </font>
        </Label>

        <Separator layoutX="30.0" layoutY="85.0" prefWidth="810.0" />

        <!-- PANEL DE ESTADÃSTICAS -->
        <HBox layoutX="30.0" layoutY="100.0" spacing="20.0" alignment="CENTER_LEFT">
            <children>
                <VBox spacing="5.0" prefWidth="250.0" prefHeight="70.0" alignment="CENTER"
                      style="-fx-background-color: #E3F2FD; -fx-background-radius: 8; -fx-border-color: #2196F3; -fx-border-radius: 8; -fx-border-width: 2;">
                    <children>
                        <Label text="ðŸ“… CITAS PROGRAMADAS" textFill="#1565C0">
                            <font>
                                <Font name="System Bold" size="11.0" />
                            </font>
                        </Label>
                        <Label fx:id="lblCitasProgramadas" text="Total: 0" textFill="#1565C0">
                            <font>
                                <Font name="System Bold" size="18.0" />
                            </font>
                        </Label>
                    </children>
                </VBox>

                <VBox spacing="5.0" prefWidth="250.0" prefHeight="70.0" alignment="CENTER"
                      style="-fx-background-color: #E8F5E9; -fx-background-radius: 8; -fx-border-color: #4CAF50; -fx-border-radius: 8; -fx-border-width: 2;">
                    <children>
                        <Label text="âœ… CITAS ATENDIDAS" textFill="#2E7D32">
                            <font>
                                <Font name="System Bold" size="11.0" />
                            </font>
                        </Label>
                        <Label fx:id="lblCitasAtendidas" text="Total: 0" textFill="#2E7D32">
                            <font>
                                <Font name="System Bold" size="18.0" />
                            </font>
                        </Label>
                    </children>
                </VBox>

                <VBox spacing="5.0" prefWidth="250.0" prefHeight="70.0" alignment="CENTER"
                      style="-fx-background-color: #FFF3E0; -fx-background-radius: 8; -fx-border-color: #FF9800; -fx-border-radius: 8; -fx-border-width: 2;">
                    <children>
                        <Label text="â° CITAS HOY" textFill="#E65100">
                            <font>
                                <Font name="System Bold" size="11.0" />
                            </font>
                        </Label>
                        <Label fx:id="lblCitasHoy" text="Hoy: 0" textFill="#E65100">
                            <font>
                                <Font name="System Bold" size="18.0" />
                            </font>
                        </Label>
                    </children>
                </VBox>
            </children>
        </HBox>

        <Separator layoutX="30.0" layoutY="190.0" prefWidth="810.0" />

        <!-- FILTROS -->
        <HBox layoutX="30.0" layoutY="205.0" spacing="15.0" alignment="CENTER_LEFT">
            <children>
                <Label text="Filtrar por:" textFill="#424242">
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Label>

                <ComboBox fx:id="cmbFiltroEstado" prefHeight="30.0" prefWidth="150.0"
                          promptText="Todos los estados" />

                <DatePicker fx:id="dpFiltroFecha" prefHeight="30.0" prefWidth="150.0"
                            promptText="Filtrar por fecha" />

                <Button fx:id="btnFiltrar" mnemonicParsing="false" onAction="#onFiltrar"
                        prefHeight="30.0" prefWidth="100.0"
                        style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 4;"
                        text="Filtrar">
                    <font>
                        <Font size="11.0" />
                    </font>
                </Button>

                <Button fx:id="btnLimpiarFiltros" mnemonicParsing="false" onAction="#onLimpiarFiltros"
                        prefHeight="30.0" prefWidth="100.0"
                        style="-fx-background-color: white; -fx-text-fill: #616161; -fx-border-color: #bdbdbd; -fx-font-weight: bold; -fx-background-radius: 4; -fx-border-radius: 4;"
                        text="Limpiar">
                    <font>
                        <Font size="11.0" />
                    </font>
                </Button>
            </children>
        </HBox>

        <Separator layoutX="30.0" layoutY="255.0" prefWidth="810.0" />

        <!-- TABLA DE CITAS -->
        <Label layoutX="30.0" layoutY="270.0" text="ðŸ“‹ Listado de Citas" textFill="#424242">
            <font>
                <Font name="System Bold" size="14.0" />
            </font>
        </Label>

        <TableView fx:id="tablaCitas" layoutX="30.0" layoutY="300.0" prefHeight="300.0" prefWidth="810.0"
                   style="-fx-border-color: #e0e0e0; -fx-border-width: 1;">
            <columns>
                <TableColumn fx:id="colId" prefWidth="60.0" text="ID" />
                <TableColumn fx:id="colFecha" prefWidth="90.0" text="Fecha" />
                <TableColumn fx:id="colHora" prefWidth="70.0" text="Hora" />
                <TableColumn fx:id="colPaciente" prefWidth="180.0" text="Paciente" />
                <TableColumn fx:id="colDocumento" prefWidth="100.0" text="Documento" />
                <TableColumn fx:id="colMotivo" prefWidth="160.0" text="Motivo" />
                <TableColumn fx:id="colEstado" prefWidth="100.0" text="Estado" />
                <TableColumn fx:id="colAcciones" prefWidth="50.0" text="" />
            </columns>
        </TableView>

        <!-- BOTONES DE ACCIÃ“N -->
        <HBox layoutX="30.0" layoutY="615.0" spacing="10.0">
            <children>
                <Button fx:id="btnAtenderCita" mnemonicParsing="false" onAction="#onAtenderCita"
                        prefHeight="35.0" prefWidth="150.0"
                        style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 4;"
                        text="âœ… Atender Cita">
                    <font>
                        <Font size="12.0" />
                    </font>
                </Button>

                <Button fx:id="btnVerDetalles" mnemonicParsing="false" onAction="#onVerDetalles"
                        prefHeight="35.0" prefWidth="150.0"
                        style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 4;"
                        text="ðŸ‘ï¸ Ver Detalles">
                    <font>
                        <Font size="12.0" />
                    </font>
                </Button>

                <Button fx:id="btnCancelarCita" mnemonicParsing="false" onAction="#onCancelarCita"
                        prefHeight="35.0" prefWidth="150.0"
                        style="-fx-background-color: #F44336; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 4;"
                        text="âŒ Cancelar Cita">
                    <font>
                        <Font size="12.0" />
                    </font>
                </Button>

                <Button fx:id="btnAgregarDiagnostico" mnemonicParsing="false" onAction="#onAgregarDiagnostico"
                        prefHeight="35.0" prefWidth="180.0"
                        style="-fx-background-color: #9C27B0; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 4;"
                        text="ðŸ“ Agregar DiagnÃ³stico">
                    <font>
                        <Font size="12.0" />
                    </font>
                </Button>
            </children>
        </HBox>

        <!-- INFORMACIÃ“N ADICIONAL -->
        <Label layoutX="30.0" layoutY="665.0"
               text="ðŸ’¡ Tip: Seleccione una cita de la tabla para realizar acciones"
               textFill="#757575">
            <font>
                <Font size="11.0" />
            </font>
        </Label>
    </children>
</AnchorPane>